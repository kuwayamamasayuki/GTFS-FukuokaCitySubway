# 作成ツール


## [標準的なバス情報フォーマット出力ツール](http://www.csis.u-tokyo.ac.jp/~nishizawa/gtfs/)
東京大学空間情報科学研究センター特任教授の西沢明様が作成されているツールです。

ここにある，「標準的なバス情報フォーマット作成ツール（ver4.1） 」
http://www.csis.u-tokyo.ac.jp/~nishizawa/gtfs/gtfsmaker-v4-1.zip
を用いました。


なお，
Sub a04_12_運賃情報ファイル出力(Filename1 As String, Filename2 As String)
において，

````
        FieldName1(6) = "transter_duration"
````

というtypoがありましたので，

````
        FieldName1(6) = "transfer_duration"
````

に修正して使用しました。



# 検証ツール

## [ScheduleViewer](https://github.com/google/transitfeed/wiki/ScheduleViewer)

地図下のスジが表示されなかったので，次の修正を加えました。
（Pythonってほとんど知らないので見よう見まねです。）

````
*** marey_graph.py.org	2018-01-24 09:46:12.000000000 +0900
--- marey_graph.py	2018-06-22 06:23:51.125845890 +0900
***************
*** 334,343 ****
        for j,freq_offset in enumerate(start_offsets):
          if j>0 and not colpar:
            color="purple"
!         scriptcall = 'onmouseover="LineClick(\'%s\',\'Trip %s starting %s\')"' % (t.trip_id,
!             t.trip_id, transitfeed.FormatSecondsSinceMidnight(t.GetStartTime()))
          tmpstrhead = '<polyline class="T" id="%s" stroke="%s" %s points="' % \
!           (str(t.trip_id),color, scriptcall)
          tmpstrs.append(tmpstrhead)

          for i, s in enumerate(t.GetTimeStops()):
--- 334,343 ----
        for j,freq_offset in enumerate(start_offsets):
          if j>0 and not colpar:
            color="purple"
!         scriptcall = 'onmouseover="LineClick(\'%s\',\'Trip %s starting %s\')"' % (t.trip_id.encode('utf-8'),
!             t.trip_id.encode('utf-8'), transitfeed.FormatSecondsSinceMidnight(t.GetStartTime()))
          tmpstrhead = '<polyline class="T" id="%s" stroke="%s" %s points="' % \
!           (t.trip_id.encode('utf-8'), color, scriptcall)
          tmpstrs.append(tmpstrhead)

          for i, s in enumerate(t.GetTimeStops()):
````



## [FeedValidator](https://github.com/google/transitfeed/wiki/FeedValidator)
